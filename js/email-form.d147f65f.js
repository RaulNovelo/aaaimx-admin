(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["email-form"],{"030f":function(e,t){var i={send:function(e){return new Promise((function(t,a){e.nocache=Math.floor(1e6*Math.random()+1),e.Action="Send";var n=JSON.stringify(e);i.ajaxPost("https://smtpjs.com/v3/smtpjs.aspx?",n,(function(e){t(e)}))}))},ajaxPost:function(e,t,a){var n=i.createCORSRequest("POST",e);n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onload=function(){var e=n.responseText;null!=a&&a(e)},n.send(t)},ajax:function(e,t){var a=i.createCORSRequest("GET",e);a.onload=function(){var e=a.responseText;null!=t&&t(e)},a.send()},createCORSRequest:function(e,t){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(e,t,!0):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest).open(e,t):i=null,i}};e.exports={Email:i}},"05cd":function(e,t,i){},"16f8":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("title-bar",{attrs:{"title-stack":e.titleStack}}),i("hero-bar",[e._v(" "+e._s(e.heroTitle)+" "),i("router-link",{staticClass:"button",attrs:{slot:"right",to:e.heroRouterLinkTo},slot:"right"},[e._v(" "+e._s(e.heroRouterLinkLabel)+" ")])],1),i("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}}),i("section",{staticClass:"section is-main-section"},[i("tiles",[i("card-component",{staticClass:"tile is-child",attrs:{title:e.formCardTitle,icon:"file-edit"}},[i("b-field",{attrs:{label:"Email",message:"From email"}},[i("b-input",{attrs:{icon:"email",placeholder:"",name:"title",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),i("b-field",{attrs:{label:"Subject",message:"Message subject"}},[i("b-input",{attrs:{icon:"email",placeholder:"",name:"title",required:""},model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}})],1),i("b-field",{staticClass:"email-card",attrs:{label:"Recipients"}},[i("b-taginput",{attrs:{ellipsis:"",type:"email",icon:"email-plus",placeholder:"Add email","aria-close-label":"Delete this email"},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1),i("b-field",{attrs:{label:"Message"}},[i("ckeditor",{attrs:{editor:e.editor,value:e.body,config:e.editorConfig}})],1),i("b-field",[i("b-button",{attrs:{type:"is-primary",loading:e.isLoading,"native-type":"submit"},on:{click:e.submit}},[e._v("Send")])],1)],1)],1)],1)],1)},n=[],s=i("1e1d"),o=i("503b"),l=i("9e7c"),r=i("fb3d"),c=i.n(r),u=i("030f"),d={name:"EmailModal",props:{event:{type:Object,default:null},isActive:{type:Boolean,default:!1}},components:{Tiles:l["a"],HeroBar:o["a"],TitleBar:s["a"]},data(){return{isModalActive:!1,isLoading:!1,to:[],email:"AAAIMX Student Chapter <raul.novelo@aaaimx.org>",subject:"AAAIMX Student Chapter",body:"",editor:c.a,editorConfig:{}}},computed:{titleStack(){let e;return e=this.id?this.form.uuid:"New email",["Admin","Email",e]},heroTitle(){return this.id?this.form.to:"Send email"},heroRouterLinkTo(){return this.id?{name:"email.new"}:"/"},heroRouterLinkLabel(){return this.id?"New email":"Dashboard"},formCardTitle(){return this.id?"Edit email":"New Email"}},methods:{submit(){this.isLoading=!0,u["Email"].send({SecureToken:"9bae29bc-1cbc-41c5-a289-6156d9190086",To:this.to,From:this.email,Subject:this.subject,Body:this.body}).then(e=>{this.isLoading=!1,this.$buefy.toast.open({message:"Email sent!",type:"is-success",queue:!1})})}}},m=d,b=(i("c2a8"),i("2877")),p=Object(b["a"])(m,a,n,!1,null,null,null);t["default"]=p.exports},c2a8:function(e,t,i){"use strict";var a=i("05cd"),n=i.n(a);n.a}}]);
//# sourceMappingURL=email-form.d147f65f.js.map