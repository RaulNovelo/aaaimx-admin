{"version":3,"sources":["webpack:///./src/vendor/SMTP.js","webpack:///./src/views/emails/NewEmail.vue?cd71","webpack:///src/views/emails/NewEmail.vue","webpack:///./src/views/emails/NewEmail.vue?5217","webpack:///./src/views/emails/NewEmail.vue?b76a","webpack:///./src/views/emails/NewEmail.vue?955e"],"names":["Email","send","a","Promise","n","e","nocache","Math","floor","random","Action","t","JSON","stringify","ajaxPost","createCORSRequest","setRequestHeader","onload","responseText","ajax","XMLHttpRequest","open","XDomainRequest","module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","titleStack","_v","_s","heroTitle","staticClass","heroRouterLinkTo","slot","heroRouterLinkLabel","model","value","callback","$$v","isLoading","expression","formCardTitle","email","subject","to","editor","body","editorConfig","on","submit","staticRenderFns","name","props","event","type","Object","default","isActive","Boolean","components","Tiles","HeroBar","TitleBar","isModalActive","computed","lastCrumb","id","form","uuid","methods","SecureToken","To","From","Subject","Body","$buefy","toast","message","queue","component"],"mappings":"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","file":"js/email-form.d147f65f.js","sourcesContent":["/* eslint-disable*/\n/* SmtpJS.com - v3.0.0 */\nvar Email = {\n  send: function (a) {\n    return new Promise(function (n, e) {\n      ;(a.nocache = Math.floor(1e6 * Math.random() + 1)), (a.Action = 'Send')\n      var t = JSON.stringify(a)\n      Email.ajaxPost('https://smtpjs.com/v3/smtpjs.aspx?', t, function (e) {\n        n(e)\n      })\n    })\n  },\n  ajaxPost: function (e, n, t) {\n    var a = Email.createCORSRequest('POST', e)\n    a.setRequestHeader('Content-type', 'application/x-www-form-urlencoded'),\n      (a.onload = function () {\n        var e = a.responseText\n        null != t && t(e)\n      }),\n      a.send(n)\n  },\n  ajax: function (e, n) {\n    var t = Email.createCORSRequest('GET', e)\n    ;(t.onload = function () {\n      var e = t.responseText\n      null != n && n(e)\n    }),\n      t.send()\n  },\n  createCORSRequest: function (e, n) {\n    var t = new XMLHttpRequest()\n    return (\n      'withCredentials' in t\n        ? t.open(e, n, !0)\n        : 'undefined' != typeof XDomainRequest\n        ? (t = new XDomainRequest()).open(e, n)\n        : (t = null),\n      t\n    )\n  }\n}\n\nmodule.exports = {\n  Email\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('title-bar',{attrs:{\"title-stack\":_vm.titleStack}}),_c('hero-bar',[_vm._v(\" \"+_vm._s(_vm.heroTitle)+\" \"),_c('router-link',{staticClass:\"button\",attrs:{\"slot\":\"right\",\"to\":_vm.heroRouterLinkTo},slot:\"right\"},[_vm._v(\" \"+_vm._s(_vm.heroRouterLinkLabel)+\" \")])],1),_c('b-loading',{attrs:{\"is-full-page\":true,\"can-cancel\":false},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}}),_c('section',{staticClass:\"section is-main-section\"},[_c('tiles',[_c('card-component',{staticClass:\"tile is-child\",attrs:{\"title\":_vm.formCardTitle,\"icon\":\"file-edit\"}},[_c('b-field',{attrs:{\"label\":\"Email\",\"message\":\"From email\"}},[_c('b-input',{attrs:{\"icon\":\"email\",\"placeholder\":\"\",\"name\":\"title\",\"required\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('b-field',{attrs:{\"label\":\"Subject\",\"message\":\"Message subject\"}},[_c('b-input',{attrs:{\"icon\":\"email\",\"placeholder\":\"\",\"name\":\"title\",\"required\":\"\"},model:{value:(_vm.subject),callback:function ($$v) {_vm.subject=$$v},expression:\"subject\"}})],1),_c('b-field',{staticClass:\"email-card\",attrs:{\"label\":\"Recipients\"}},[_c('b-taginput',{attrs:{\"ellipsis\":\"\",\"type\":\"email\",\"icon\":\"email-plus\",\"placeholder\":\"Add email\",\"aria-close-label\":\"Delete this email\"},model:{value:(_vm.to),callback:function ($$v) {_vm.to=$$v},expression:\"to\"}})],1),_c('b-field',{attrs:{\"label\":\"Message\"}},[_c('ckeditor',{attrs:{\"editor\":_vm.editor,\"value\":_vm.body,\"config\":_vm.editorConfig}})],1),_c('b-field',[_c('b-button',{attrs:{\"type\":\"is-primary\",\"loading\":_vm.isLoading,\"native-type\":\"submit\"},on:{\"click\":_vm.submit}},[_vm._v(\"Send\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <title-bar :title-stack=\"titleStack\" />\n    <hero-bar>\n      {{ heroTitle }}\n      <router-link slot=\"right\" :to=\"heroRouterLinkTo\" class=\"button\">\n        {{ heroRouterLinkLabel }}\n      </router-link>\n    </hero-bar>\n\n    <b-loading\n      :is-full-page=\"true\"\n      v-model=\"isLoading\"\n      :can-cancel=\"false\"\n    ></b-loading>\n    <section class=\"section is-main-section\">\n      <tiles>\n        <card-component\n          :title=\"formCardTitle\"\n          icon=\"file-edit\"\n          class=\"tile is-child\"\n        >\n          <b-field label=\"Email\" message=\"From email\">\n            <b-input\n              icon=\"email\"\n              placeholder=\"\"\n              name=\"title\"\n              v-model=\"email\"\n              required\n            />\n          </b-field>\n          <b-field label=\"Subject\" message=\"Message subject\">\n            <b-input\n              icon=\"email\"\n              placeholder=\"\"\n              name=\"title\"\n              v-model=\"subject\"\n              required\n            />\n          </b-field>\n          <b-field class=\"email-card\" label=\"Recipients\">\n            <b-taginput\n              v-model=\"to\"\n              ellipsis\n              type=\"email\"\n              icon=\"email-plus\"\n              placeholder=\"Add email\"\n              aria-close-label=\"Delete this email\"\n            >\n            </b-taginput>\n          </b-field>\n          <b-field label=\"Message\">\n            <ckeditor\n              :editor=\"editor\"\n              :value=\"body\"\n              :config=\"editorConfig\"\n            ></ckeditor>\n          </b-field>\n          <b-field>\n            <b-button\n              @click=\"submit\"\n              type=\"is-primary\"\n              :loading=\"isLoading\"\n              native-type=\"submit\"\n              >Send</b-button\n            >\n          </b-field>\n        </card-component>\n      </tiles>\n    </section>\n  </div>\n</template>\n<style>\n.ck h1,\n.ck h2,\n.ck h3,\n.ck p,\n.ck strong,\n.ck ol,\n.ck ul,\n.ck li,\n.email-card input {\n  color: black !important;\n}\n</style>\n<script>\nimport TitleBar from '@/components/TitleBar'\nimport HeroBar from '@/components/HeroBar'\nimport Tiles from '@/components/Tiles'\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic'\nimport { Email } from '@/vendor/SMTP'\n\nexport default {\n  name: 'EmailModal',\n  props: {\n    event: {\n      type: Object,\n      default: null\n    },\n    isActive: {\n      type: Boolean,\n      default: false\n    }\n  },\n  components: {\n    Tiles,\n    HeroBar,\n    TitleBar\n  },\n  data () {\n    return {\n      isModalActive: false,\n      isLoading: false,\n      to: [],\n      email: 'AAAIMX Student Chapter <raul.novelo@aaaimx.org>',\n      subject: 'AAAIMX Student Chapter',\n      body: '',\n      editor: ClassicEditor,\n      editorConfig: {\n        // The configuration of the rich-text editor.\n        // toolbar: ['headers', 'bold', 'italic', '|', 'link']\n      }\n    }\n  },\n  computed: {\n    titleStack () {\n      let lastCrumb\n\n      if (this.id) {\n        lastCrumb = this.form.uuid\n      } else {\n        lastCrumb = 'New email'\n      }\n\n      return ['Admin', 'Email', lastCrumb]\n    },\n    heroTitle () {\n      if (this.id) {\n        return this.form.to\n      } else {\n        return 'Send email'\n      }\n    },\n    heroRouterLinkTo () {\n      if (this.id) {\n        return { name: 'email.new' }\n      } else {\n        return '/'\n      }\n    },\n    heroRouterLinkLabel () {\n      if (this.id) {\n        return 'New email'\n      } else {\n        return 'Dashboard'\n      }\n    },\n    formCardTitle () {\n      if (this.id) {\n        return 'Edit email'\n      } else {\n        return 'New Email'\n      }\n    }\n  },\n  methods: {\n    submit () {\n      this.isLoading = true\n      Email.send({\n        SecureToken: '9bae29bc-1cbc-41c5-a289-6156d9190086',\n        To: this.to,\n        From: this.email,\n        Subject: this.subject,\n        Body: this.body\n      }).then(message => {\n        this.isLoading = false\n        this.$buefy.toast.open({\n          message: 'Email sent!',\n          type: 'is-success',\n          queue: false\n        })\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewEmail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewEmail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewEmail.vue?vue&type=template&id=7e8a5536&\"\nimport script from \"./NewEmail.vue?vue&type=script&lang=js&\"\nexport * from \"./NewEmail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewEmail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewEmail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewEmail.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}