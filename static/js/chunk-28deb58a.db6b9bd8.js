(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28deb58a"],{"1ff4":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-container"},[n("h3",[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"editor-container"},[n("dnd-list",{attrs:{list1:t.authors,list2:t.list2,"list1-title":"Authors","list2-title":""}})],1),t._v(" "),n("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"","remote-method":t.getMember,loading:t.loading,clearable:"",placeholder:"Selector author"},model:{value:t.author,callback:function(e){t.author=e},expression:"author"}},t._l(t.options,(function(t){return n("el-option",{key:t.id,attrs:{label:t.surname+" "+t.name,value:t.id}})})),1),t._v(" "),n("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(e){return t.addAuthor()}}},[t._v("Add author")])],1)},i=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("6b54"),n("96cf"),n("3b8d")),a=n("bd86"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dndList"},[n("div",{staticClass:"dndList-list",style:{width:t.width1}},[n("draggable",{staticClass:"dragArea",attrs:{"set-data":t.setData,list:t.list1,group:"article"}},[t._l(t.list1,(function(e,r){return n("div",{key:e.id,staticClass:"list-complete-item"},[n("div",{staticClass:"list-complete-item-handle"},[t._v("\n        "+t._s(e.name)+" "+t._s(e.surname)+" "),n("sup",{staticClass:"link-type"},[t._v(t._s(++r))])]),t._v(" "),n("div",{staticStyle:{position:"absolute",right:"0px"}},[n("span",{staticStyle:{float:"right","margin-top":"-20px","margin-right":"5px"},on:{click:function(n){return t.deleteEle(e)}}},[n("i",{staticClass:"el-icon-delete",staticStyle:{color:"#ff4949"}})])])])})),t._v(" "),t.list1.length?t._e():n("aside",[t._v("No authors")])],2),t._v(" "),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{icon:"el-icon-circle-check-outline",size:"small",type:"success"},on:{click:function(e){return t.saveAuthors()}}},[t._v("Save authors")]),t._v(" "),n("el-button",{attrs:{icon:"el-icon-refresh",size:"small",type:"primary"},on:{click:function(e){return t.sort()}}},[t._v("Reset order")])],1)])},u=[],c=(n("ac4d"),n("8a81"),n("1c4c"),n("5df3"),n("55dd"),n("1980")),l=n.n(c),d=n("780a");function f(t){return Object(d["a"])({url:"/authors/",method:"POST",data:t})}function h(t){return Object(d["a"])({url:"/authors/".concat(t.id,"/"),method:"PATCH",data:t})}function p(t,e){return Object(d["a"])({url:"/authors/".concat(t,"/"),method:"DELETE",data:e})}function m(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=b(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function b(t,e){if(t){if("string"===typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var g={name:"DndList",components:{draggable:l.a},props:{list1:{type:Array,default:function(){return[]}},list2:{type:Array,default:function(){return[]}},list1Title:{type:String,default:"list1"},list2Title:{type:String,default:"list2"},width1:{type:String,default:"100%"}},data:function(){return{loading:!1}},mounted:function(){this.sort()},methods:{sort:function(){var t=function(t,e){return t.position>e.position?1:-1};this.list1.sort(t)},isNotInList1:function(t){return this.list1.every((function(e){return t.id!==e.id}))},isNotInList2:function(t){return this.list2.every((function(e){return t.id!==e.id}))},saveAuthors:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=[],this.loading=!0,this.list1.forEach((function(t,n,r){t.id&&e.push(h({id:t.id,position:++n}))})),Promise.all(e).then((function(t){n.$notify({title:"Updated",dangerouslyUseHTMLString:!0,message:"<b>Research Authors</b> was sucessfully saved",type:"success",duration:2e3}),n.loading=!1}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),deleteEle:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,i,s,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=m(this.list1),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=12;break}if(i=r.value,i.id!==e.id){t.next=10;break}return s=this.list1.indexOf(i),this.list1.splice(s,1),i.id&&p(i.id).then((function(t){a.$message({dangerouslyUseHTMLString:!0,message:"Author removed",type:"warning",showClose:!0,duration:2e3})})),t.abrupt("break",12);case 10:t.next=3;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),n.e(t.t0);case 17:return t.prev=17,n.f(),t.finish(17);case 20:this.isNotInList2(e)&&this.list2.unshift(e);case 21:case"end":return t.stop()}}),t,this,[[1,14,17,20]])})));function e(e){return t.apply(this,arguments)}return e}(),pushEle:function(t){var e,n=m(this.list2);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.id===t.id){var i=this.list2.indexOf(r);this.list2.splice(i,1);break}}}catch(s){n.e(s)}finally{n.f()}this.isNotInList1(t)&&this.list1.push(t)},setData:function(t){t.setData("Text","")}}},y=g,w=(n("30f18"),n("2877")),O=Object(w["a"])(y,o,u,!1,null,"01dd3574",null),j=O.exports,k=n("8194"),_=n("828d"),x=n("2f62");function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C={name:"DndListDemo",components:{DndList:j},props:{title:{type:String,default:"list1"},authors:{type:Array,default:function(){return[]}}},data:function(){return{list1:[],list2:[],options:[],loading:!1,author:""}},computed:A({},Object(x["c"])("members",["collaborators"])),methods:{getMember:function(t){var e=this;this.loading=!0,Object(_["a"])(t).then((function(t){e.options=t.results,e.loading=!1}))},addAuthor:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n,r,i,s,a,o,u,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.author.toString().trim()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(k["b"])(this.author);case 4:if(e=t.sent,n=e.name,r=e.surname,i=e.id,s=this.$route.params.id,a=this.authors.filter((function(t){return t.name==n&&t.surname==r})),a.length){t.next=16;break}return o={name:n,surname:r,member:i,research:s,position:this.authors.length+1},t.next=12,f(o);case 12:u=t.sent,c=Object.assign({},o,u),this.authors.push(c),this.$message({dangerouslyUseHTMLString:!0,message:"Author created",some:c,type:"success",showClose:!0,duration:2e3});case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},L=C,D=Object(w["a"])(L,r,i,!1,null,null,null);e["default"]=D.exports},"30f18":function(t,e,n){"use strict";var r=n("5b2c"),i=n.n(r);i.a},"5b2c":function(t,e,n){}}]);