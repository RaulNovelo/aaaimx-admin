(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8314c944"],{"19bd":function(e,t,n){},"8eff":function(e,t,n){"use strict";n("a481");var i=n("db72"),r=n("bc3a"),s=n.n(r),a=n("4360"),c=n("5f87"),o=n("b444"),l=s.a.create({baseURL:"https://aaaimx-email.herokuapp.com/api",mode:"cors",credentials:"same-origin",timeout:4e4,headers:{"Content-Type":"application/json;"}});l.interceptors.request.use((function(e){return a["a"].getters.token&&(e.headers.Authorization="Bearer "+Object(c["c"])()),e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){return 200!==e.status&&201!==e.status&&204!==e.status?(401!==e.status&&403!==e.status||Object(o["b"])(),Promise.reject(new Error(e.message||"Error"))):e.data}),(function(e){var t=e.response,n=e.message;return Object(o["a"])(n),401!==t.status&&403!==t.status||Object(o["b"])(),Promise.reject(t)}));var u=l;function d(e){return u({url:"/emails/",method:"POST",data:e})}var p=n("616f"),m={methods:{publish:function(e,t){var n=this;e.loading=!0,Object(p["g"])(e.uuid,t).then((function(i){n.$message({message:"Certificate status changed",type:"success"}),e.published=t,e.loading=!1}),(function(t){e.loading=!1,n.$message({message:"Something went wrong:( Try Again!",type:"error"})}))},sendEmail:function(e){var t=this;this.$prompt("Please input an e-mail","Send by email",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputValue:"rnovelo.cruz98@gmail.com",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"Invalid Email"}).then((function(n){var r=n.value;e.sending=!0,d({subject:"CERTIFICATE OF "+e.type,message:"CERTIFICATE OF ".concat(e.type,": ").concat(e.to),sent:1,context:Object(i["a"])({},e,{email:r,thumbnail:e.file.replace("download","preview")}),recipients:[r],template:"CERTIFICATE"}).then((function(n){e.sending=!1,t.$notify({title:"Success",message:"Certificate send",type:"success",duration:2e3})}),(function(e){}))})).catch((function(){e.sending=!1,t.$message({type:"info",message:"Email canceled"})}))}}};t["a"]=m},a51d:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card-component",staticStyle:{margin:"5px"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[n("el-tag",{attrs:{size:"mini",effect:"dark",type:"secondary"}},[e._v(e._s(e.cert.type))])],1),e._v(" "),n("div",{staticStyle:{float:"right"}},[n("el-dropdown",{staticClass:"hidden-md-and-up",attrs:{size:"small",type:"primary"}},[n("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-more"}}),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("el-link",{attrs:{underline:!1,type:"text"},on:{click:function(t){return e.$router.push("/certificates/"+e.cert.uuid)}}},[e._v("Edit")])],1),e._v(" "),n("el-dropdown-item",[n("el-link",{attrs:{underline:!1,type:"text"},on:{click:function(t){return e.sendEmail(e.cert)}}},[e._v("Send by email")])],1),e._v(" "),n("el-dropdown-item",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.cert.uuid,expression:"cert.uuid",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}]},[e._v("Copy "),n("b",[e._v("UUID")])]),e._v(" "),n("el-dropdown-item",[n("a",{attrs:{href:e.cert.file,target:"_blank",download:""}},[e._v("\n              Download\n            ")])]),e._v(" "),n("el-dropdown-item",{attrs:{divided:""}},[n("el-link",{attrs:{underline:!1,type:"text"},on:{click:function(t){return e.publish(e.cert,!e.cert.published)}}},[e._v(e._s(e.cert.published?"Draft":"Publish"))])],1)],1)],1),e._v(" "),n("el-button-group",{staticClass:"hidden-sm-and-down"},[n("el-button",{attrs:{size:"mini",round:"",icon:"el-icon-edit"},on:{click:function(t){return e.$router.push("/certificates/"+e.cert.uuid)}}}),e._v(" "),n("el-button",{attrs:{loading:e.cert.sending,size:"mini",round:"",icon:"el-icon-s-promotion"},on:{click:function(t){return e.sendEmail(e.cert)}}}),e._v(" "),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.cert.uuid,expression:"cert.uuid",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],attrs:{size:"mini",round:"",icon:"el-icon-paperclip"}}),e._v(" "),n("el-button",{attrs:{size:"mini",round:""}},[n("a",{attrs:{href:e.cert.file,target:"_blank",download:""}},[n("i",{staticClass:"el-icon-download"})])]),e._v(" "),n("el-button",{attrs:{plain:"",type:e.cert.published?"success":"danger",size:"mini",icon:e.cert.published?"el-icon-open":"el-icon-turn-off",round:""},on:{click:function(t){return e.publish(e.cert,!e.cert.published)}}})],1)],1)]),e._v(" "),n("el-image",{attrs:{"preview-src-list":[e.cert.file],fit:"cover",src:e.cert.file}}),e._v(" "),n("div",[n("span",[e._v(e._s(e.cert.to))]),e._v(" "),n("br"),e._v(" "),n("div",{staticClass:"bottom clearfix"},[n("span",[e.cert.published?n("el-tag",{attrs:{size:"mini",type:"success"}},[n("a",{attrs:{href:e.cert.QR,target:"_blank",rel:"noopener noreferrer"}},[e._v("Online")])]):n("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("\n          Draft\n        ")])],1),e._v(" "),n("el-button",{staticClass:"button",attrs:{type:"text"}},[e._v(e._s(e._f("longDate")(e.cert.created_at)))])],1)])],1)},r=[],s=n("8eff"),a=n("f168"),c={props:["cert"],mixins:[s["a"],a["a"]]},o=c,l=(n("cbeb"),n("2877")),u=Object(l["a"])(o,i,r,!1,null,null,null);t["default"]=u.exports},cbeb:function(e,t,n){"use strict";var i=n("19bd"),r=n.n(i);r.a}}]);